{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.b03ed8f9d602f0a93d85.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import React from \"react\";\r\nimport Head from \"next/head\";\r\nimport { withRouter } from \"next/router\";\r\nimport GroupSidebar from \"../components/groupSidebar\";\r\nimport PostList from \"../components/postList\";\r\nimport PopularSidebar from \"../components/popularSidebar\";\r\nimport { withAuth } from \"../utils/auth\";\r\nimport { LOGIN_MODAL, setModalVisibility } from \"../store/actions/modalActions\";\r\nimport { connect } from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\nimport { fetchPosts } from \"../store/actions/postActions\";\r\nclass Home extends React.Component {\r\n  static async getInitialProps(ctx) {\r\n    const { query } = ctx;\r\n    const group = query.slug ? query.slug : \"\";\r\n    await ctx.store.dispatch(fetchPosts(group));\r\n    return {\r\n      group\r\n    };\r\n  }\r\n\r\n  sharePostHandler = e => {\r\n    e.stopPropagation();\r\n    if (this.props.isAuthenticated) {\r\n      this.props.router.push(\"/yeni-post\");\r\n    } else {\r\n      toast.info(\"Önce Giriş Yapmalısın.\");\r\n      this.props.setModalVisibility(LOGIN_MODAL, true);\r\n    }\r\n  };\r\n  render() {\r\n    const { group } = this.props;\r\n    return (\r\n      <>\r\n        <Head>\r\n          <title>Nosbir | Sosyal Paylaşım Diyarı</title>\r\n        </Head>\r\n        <GroupSidebar />\r\n        <div className=\"content\">\r\n          <div className=\"home-new-post\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"ne düşünüyorsun\"\r\n              onFocus={this.sharePostHandler}\r\n            />\r\n            <button\r\n              href=\"#\"\r\n              className=\"default-btn\"\r\n              onClick={this.sharePostHandler}\r\n            >\r\n              Paylaş\r\n            </button>\r\n          </div>\r\n          <PostList group={group} />\r\n        </div>\r\n        <PopularSidebar />\r\n      </>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: state.auth.isAuthenticated\r\n});\r\nexport default connect(mapStateToProps, { setModalVisibility })(\r\n  withRouter(withAuth(Home))\r\n);\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;;;;;;;;;;;AAUA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;;;;;;AAAA;AAAA;AAEA;AAMA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAHA;AAQA;AAAA;AAKA;;;;;;AA9CA;;;;;;AACA;AACA;;AACA;AACA;;AAAA;AACA;AADA;AACA;;;;;;;;;;;;;;;;;;AANA;AACA;AAgDA;AAAA;AACA;AADA;AAAA;AACA;AAEA;AAAA;AAAA;;;;A","sourceRoot":""}