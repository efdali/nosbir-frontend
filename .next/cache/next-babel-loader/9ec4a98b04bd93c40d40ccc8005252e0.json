{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport Head from \"next/head\";\nimport { withRouter } from \"next/router\";\nimport GroupSidebar from \"../components/groupSidebar\";\nimport PostList from \"../components/postList\";\nimport PopularSidebar from \"../components/popularSidebar\";\nimport { withAuth } from \"../utils/auth\";\nimport { LOGIN_MODAL, setModalVisibility } from \"../store/actions/modalActions\";\nimport { connect } from \"react-redux\";\nimport { toast } from \"react-toastify\";\nimport { fetchPosts } from \"../store/actions/postActions\";\n\nclass Home extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"sharePostHandler\", e => {\n      if (this.props.isAuthenticated) {\n        this.props.router.push(\"/yeni-post\");\n      } else {\n        toast.info(\"Önce Giriş Yapmalısın.\");\n        this.props.setModalVisibility(LOGIN_MODAL, true);\n      }\n\n      e.preventDefault();\n    });\n  }\n\n  static async getInitialProps(ctx) {\n    const {\n      query\n    } = ctx;\n    const group = query.slug ? query.slug : \"\";\n    await ctx.store.dispatch(fetchPosts(group));\n    return {\n      group\n    };\n  }\n\n  render() {\n    const {\n      group\n    } = this.props;\n    return __jsx(React.Fragment, null, __jsx(Head, null, __jsx(\"title\", null, \"Nosbir | Sosyal Payla\\u015F\\u0131m Diyar\\u0131\")), __jsx(GroupSidebar, null), __jsx(\"div\", {\n      className: \"content\"\n    }, __jsx(\"div\", {\n      className: \"home-new-post\"\n    }, __jsx(\"input\", {\n      type: \"text\",\n      placeholder: \"ne d\\xFC\\u015F\\xFCn\\xFCyorsun\",\n      onFocus: this.sharePostHandler\n    }), __jsx(\"button\", {\n      href: \"#\",\n      className: \"default-btn\",\n      onClick: this.sharePostHandler\n    }, \"Payla\\u015F\")), __jsx(PostList, {\n      group: group\n    })), __jsx(PopularSidebar, null));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  isAuthenticated: state.auth.isAuthenticated\n});\n\nexport default connect(mapStateToProps, {\n  setModalVisibility\n})(withRouter(withAuth(Home)));","map":{"version":3,"sources":["E:/projects/nosbir-frontend/pages/index.js"],"names":["React","Head","withRouter","GroupSidebar","PostList","PopularSidebar","withAuth","LOGIN_MODAL","setModalVisibility","connect","toast","fetchPosts","Home","Component","e","props","isAuthenticated","router","push","info","preventDefault","getInitialProps","ctx","query","group","slug","store","dispatch","render","sharePostHandler","mapStateToProps","state","auth"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,SAASC,UAAT,QAA2B,aAA3B;AACA,OAAOC,YAAP,MAAyB,4BAAzB;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,OAAOC,cAAP,MAA2B,8BAA3B;AACA,SAASC,QAAT,QAAyB,eAAzB;AACA,SAASC,WAAT,EAAsBC,kBAAtB,QAAgD,+BAAhD;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,SAASC,UAAT,QAA2B,8BAA3B;;AACA,MAAMC,IAAN,SAAmBZ,KAAK,CAACa,SAAzB,CAAmC;AAAA;AAAA;;AAAA,8CAUdC,CAAC,IAAI;AACtB,UAAI,KAAKC,KAAL,CAAWC,eAAf,EAAgC;AAC9B,aAAKD,KAAL,CAAWE,MAAX,CAAkBC,IAAlB,CAAuB,YAAvB;AACD,OAFD,MAEO;AACLR,QAAAA,KAAK,CAACS,IAAN,CAAW,wBAAX;AACA,aAAKJ,KAAL,CAAWP,kBAAX,CAA8BD,WAA9B,EAA2C,IAA3C;AACD;;AACDO,MAAAA,CAAC,CAACM,cAAF;AACD,KAlBgC;AAAA;;AACjC,eAAaC,eAAb,CAA6BC,GAA7B,EAAkC;AAChC,UAAM;AAAEC,MAAAA;AAAF,QAAYD,GAAlB;AACA,UAAME,KAAK,GAAGD,KAAK,CAACE,IAAN,GAAaF,KAAK,CAACE,IAAnB,GAA0B,EAAxC;AACA,UAAMH,GAAG,CAACI,KAAJ,CAAUC,QAAV,CAAmBhB,UAAU,CAACa,KAAD,CAA7B,CAAN;AACA,WAAO;AACLA,MAAAA;AADK,KAAP;AAGD;;AAWDI,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEJ,MAAAA;AAAF,QAAY,KAAKT,KAAvB;AACA,WACE,4BACE,MAAC,IAAD,QACE,sEADF,CADF,EAIE,MAAC,YAAD,OAJF,EAKE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,WAAW,EAAC,+BAFd;AAGE,MAAA,OAAO,EAAE,KAAKc;AAHhB,MADF,EAME;AACE,MAAA,IAAI,EAAC,GADP;AAEE,MAAA,SAAS,EAAC,aAFZ;AAGE,MAAA,OAAO,EAAE,KAAKA;AAHhB,qBANF,CADF,EAeE,MAAC,QAAD;AAAU,MAAA,KAAK,EAAEL;AAAjB,MAfF,CALF,EAsBE,MAAC,cAAD,OAtBF,CADF;AA0BD;;AA/CgC;;AAiDnC,MAAMM,eAAe,GAAGC,KAAK,KAAK;AAChCf,EAAAA,eAAe,EAAEe,KAAK,CAACC,IAAN,CAAWhB;AADI,CAAL,CAA7B;;AAGA,eAAeP,OAAO,CAACqB,eAAD,EAAkB;AAAEtB,EAAAA;AAAF,CAAlB,CAAP,CACbN,UAAU,CAACI,QAAQ,CAACM,IAAD,CAAT,CADG,CAAf","sourcesContent":["import React from \"react\";\r\nimport Head from \"next/head\";\r\nimport { withRouter } from \"next/router\";\r\nimport GroupSidebar from \"../components/groupSidebar\";\r\nimport PostList from \"../components/postList\";\r\nimport PopularSidebar from \"../components/popularSidebar\";\r\nimport { withAuth } from \"../utils/auth\";\r\nimport { LOGIN_MODAL, setModalVisibility } from \"../store/actions/modalActions\";\r\nimport { connect } from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\nimport { fetchPosts } from \"../store/actions/postActions\";\r\nclass Home extends React.Component {\r\n  static async getInitialProps(ctx) {\r\n    const { query } = ctx;\r\n    const group = query.slug ? query.slug : \"\";\r\n    await ctx.store.dispatch(fetchPosts(group));\r\n    return {\r\n      group\r\n    };\r\n  }\r\n\r\n  sharePostHandler = e => {\r\n    if (this.props.isAuthenticated) {\r\n      this.props.router.push(\"/yeni-post\");\r\n    } else {\r\n      toast.info(\"Önce Giriş Yapmalısın.\");\r\n      this.props.setModalVisibility(LOGIN_MODAL, true);\r\n    }\r\n    e.preventDefault();\r\n  };\r\n  render() {\r\n    const { group } = this.props;\r\n    return (\r\n      <>\r\n        <Head>\r\n          <title>Nosbir | Sosyal Paylaşım Diyarı</title>\r\n        </Head>\r\n        <GroupSidebar />\r\n        <div className=\"content\">\r\n          <div className=\"home-new-post\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"ne düşünüyorsun\"\r\n              onFocus={this.sharePostHandler}\r\n            />\r\n            <button\r\n              href=\"#\"\r\n              className=\"default-btn\"\r\n              onClick={this.sharePostHandler}\r\n            >\r\n              Paylaş\r\n            </button>\r\n          </div>\r\n          <PostList group={group} />\r\n        </div>\r\n        <PopularSidebar />\r\n      </>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: state.auth.isAuthenticated\r\n});\r\nexport default connect(mapStateToProps, { setModalVisibility })(\r\n  withRouter(withAuth(Home))\r\n);\r\n"]},"metadata":{},"sourceType":"module"}