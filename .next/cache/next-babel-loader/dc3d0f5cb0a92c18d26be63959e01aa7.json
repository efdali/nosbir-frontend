{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport Head from \"next/head\";\nimport Link from \"next/link\";\nimport { connect } from \"react-redux\";\nimport { withAuth } from \"../utils/auth\";\nimport Post from \"../components/post\";\nimport Comment from \"../components/comment\";\nimport UserContainer from \"../components/userContainer\";\nimport Error from \"../components/error\";\nimport http from \"../utils/http\";\nimport { toast } from \"react-toastify\";\n\nvar Profile =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Profile, _React$Component);\n\n  function Profile(props) {\n    var _this;\n\n    _classCallCheck(this, Profile);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Profile).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"scrollHandle\", function (e) {\n      if (_this.state.page < _this.props.total - 1) {\n        if (window.innerHeight + document.documentElement.scrollTop + 200 >= document.documentElement.offsetHeight) {\n          _this.setState(function (state) {\n            return {\n              page: state.page + 1\n            };\n          }, function () {\n            http.get(_this.props.page === \"postlar\" ? \"profil_goster.php\" : \"profil_yorum.php\", {\n              params: {\n                kadi: _this.props.nick,\n                s: _this.state.page\n              }\n            }).then(function (res) {\n              return res.data;\n            }).then(function (res) {\n              _this.setState({\n                data: [].concat(_toConsumableArray(_this.state.data), _toConsumableArray(res.data))\n              });\n            });\n          });\n        }\n      } else {\n        window.removeEventListener(\"scroll\", _this.scrollHandle);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"RenderComponent\", function () {\n      var page = _this.props.page;\n      var data = _this.state.data;\n\n      if (data.length === 0) {\n        return __jsx(React.Fragment, null, data.length === 0 && __jsx(Error, {\n          msg: \"Herhangi bir nos yok...\"\n        }));\n      }\n\n      if (page === \"postlar\") {\n        return __jsx(React.Fragment, null, data.map(function (p, i) {\n          return __jsx(Post, {\n            post: p,\n            key: i\n          });\n        }));\n      } else if (page === \"yorumlar\") {\n        return __jsx(\"div\", null, data.map(function (c, i) {\n          return __jsx(Comment, {\n            comment: c,\n            key: i,\n            link: c.seo\n          });\n        }));\n      } else if (page === \"bildirimler\") {\n        return __jsx(\"ul\", null, data.map(function (n, i) {\n          return __jsx(\"li\", {\n            key: i\n          }, n.text);\n        }));\n      }\n    });\n\n    _this.state = {\n      data: props.data,\n      page: 0\n    };\n    return _this;\n  }\n\n  _createClass(Profile, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      window.addEventListener(\"scroll\", this.scrollHandle);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener(\"scroll\", this.scrollHandle);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          nick = _this$props.nick,\n          page = _this$props.page,\n          authenticatedUserId = _this$props.authenticatedUserId;\n      var userId = this.props.user.user_id;\n      return __jsx(React.Fragment, null, __jsx(Head, null, __jsx(\"title\", {\n        className: \"jsx-2272209749\"\n      }, \"profil/\", nick), __jsx(\"meta\", {\n        name: \"description\",\n        content: \"\".concat(nick, \"'in Profili\"),\n        className: \"jsx-2272209749\"\n      })), __jsx(\"div\", {\n        className: \"jsx-2272209749\" + \" \" + \"content\"\n      }, __jsx(this.RenderComponent, null)), __jsx(\"aside\", {\n        className: \"jsx-2272209749\" + \" \" + \"right-sidebar user-sidebar\"\n      }, __jsx(UserContainer, {\n        nick: nick,\n        picture: this.props.user.picture,\n        userId: userId\n      }), __jsx(\"div\", {\n        className: \"jsx-2272209749\" + \" \" + \"profile-links\"\n      }, __jsx(Link, {\n        href: \"/u/@\".concat(nick, \"/\")\n      }, __jsx(\"a\", {\n        className: \"jsx-2272209749\" + \" \" + \"default-btn \".concat(page === \"postlar\" ? \"active\" : \"\")\n      }, \"Postlar\")), __jsx(Link, {\n        href: \"/u/@\".concat(nick, \"/yorumlar\")\n      }, __jsx(\"a\", {\n        className: \"jsx-2272209749\" + \" \" + \"default-btn \".concat(page === \"yorumlar\" ? \"active\" : \"\")\n      }, \"Yorumlar\")), __jsx(\"br\", {\n        className: \"jsx-2272209749\"\n      }), authenticatedUserId === userId && __jsx(React.Fragment, null, __jsx(Link, {\n        href: \"/bildirimler\"\n      }, __jsx(\"a\", {\n        className: \"jsx-2272209749\" + \" \" + \"default-btn \".concat(page === \"bildirimler\" ? \"active\" : \"\")\n      }, \"Bildirimler\")), __jsx(Link, {\n        href: \"/mesajlar\"\n      }, __jsx(\"a\", {\n        onClick: function onClick(e) {\n          e.preventDefault();\n          toast.info(\"Mesajlaşma aktif değildir. En kısa sürede aktifleştirilecektir...\");\n        },\n        className: \"jsx-2272209749\" + \" \" + \"default-btn \".concat(page === \"mesajlar\" ? \"active\" : \"\")\n      }, \"Mesajlar\")), __jsx(Link, {\n        href: \"/profil-duzenle\"\n      }, __jsx(\"a\", {\n        className: \"jsx-2272209749\" + \" \" + \"default-btn\"\n      }, \"D\\xFCzenle\"))))), __jsx(_JSXStyle, {\n        id: \"2272209749\"\n      }, \".comment:first-child{margin-top:0;}.profile-links.jsx-2272209749{margin-top:30px;background:var(--main-dark-gray-color);border:1px solid var(--main-dark-gray-color);height:60px;line-height:59px;text-align:center;width:100%;}.profile-links.jsx-2272209749 a.jsx-2272209749{margin-left:10px;background:var(--second-red-color);}.profile-links.jsx-2272209749 a.active.jsx-2272209749,.profile-links.jsx-2272209749 a.jsx-2272209749:hover{background:var(--main-red-color);}.profile-links.jsx-2272209749 a.jsx-2272209749:first-child{margin-left:0;}aside.user-sidebar.jsx-2272209749{min-height:0;}@media screen and (max-width:620px){.page-content{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.content.jsx-2272209749{-webkit-order:2;-ms-flex-order:2;order:2;}aside.user-sidebar.jsx-2272209749{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-order:1;-ms-flex-order:1;order:1;}}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkU6XFxwcm9qZWN0c1xcbm9zYmlyLWZyb250ZW5kXFxwYWdlc1xccHJvZmlsZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFxS29CLEFBRzBCLEFBR0csQUFTQyxBQUtnQixBQUduQixBQUdELEFBSVcsQUFHZCxBQUdLLGFBaENqQixBQXVCQSxDQUhBLEVBakJ5QyxDQVNKLGdCQUtyQyxRQWFFLFdBakJGLEdBVCtDLG1CQTZCbkMsSUFOVixzQkF0QlksWUFDSyxHQTRCakIsY0EzQmtCLGtCQUNQLFdBQ2IiLCJmaWxlIjoiRTpcXHByb2plY3RzXFxub3NiaXItZnJvbnRlbmRcXHBhZ2VzXFxwcm9maWxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgSGVhZCBmcm9tIFwibmV4dC9oZWFkXCI7XHJcbmltcG9ydCBMaW5rIGZyb20gXCJuZXh0L2xpbmtcIjtcclxuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xyXG5pbXBvcnQgeyB3aXRoQXV0aCB9IGZyb20gXCIuLi91dGlscy9hdXRoXCI7XHJcbmltcG9ydCBQb3N0IGZyb20gXCIuLi9jb21wb25lbnRzL3Bvc3RcIjtcclxuaW1wb3J0IENvbW1lbnQgZnJvbSBcIi4uL2NvbXBvbmVudHMvY29tbWVudFwiO1xyXG5pbXBvcnQgVXNlckNvbnRhaW5lciBmcm9tIFwiLi4vY29tcG9uZW50cy91c2VyQ29udGFpbmVyXCI7XHJcbmltcG9ydCBFcnJvciBmcm9tIFwiLi4vY29tcG9uZW50cy9lcnJvclwiO1xyXG5pbXBvcnQgaHR0cCBmcm9tIFwiLi4vdXRpbHMvaHR0cFwiO1xyXG5pbXBvcnQgeyB0b2FzdCB9IGZyb20gXCJyZWFjdC10b2FzdGlmeVwiO1xyXG5jbGFzcyBQcm9maWxlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG5cclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIGRhdGE6IHByb3BzLmRhdGEsXHJcbiAgICAgIHBhZ2U6IDBcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRNb3VudCgpIHtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHRoaXMuc2Nyb2xsSGFuZGxlKTtcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xyXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgdGhpcy5zY3JvbGxIYW5kbGUpO1xyXG4gIH1cclxuXHJcbiAgc2Nyb2xsSGFuZGxlID0gZSA9PiB7XHJcbiAgICBpZiAodGhpcy5zdGF0ZS5wYWdlIDwgdGhpcy5wcm9wcy50b3RhbCAtIDEpIHtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIHdpbmRvdy5pbm5lckhlaWdodCArIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgKyAyMDAgPj1cclxuICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0XHJcbiAgICAgICkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoXHJcbiAgICAgICAgICBzdGF0ZSA9PiAoe1xyXG4gICAgICAgICAgICBwYWdlOiBzdGF0ZS5wYWdlICsgMVxyXG4gICAgICAgICAgfSksXHJcbiAgICAgICAgICAoKSA9PiB7XHJcbiAgICAgICAgICAgIGh0dHBcclxuICAgICAgICAgICAgICAuZ2V0KFxyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5wYWdlID09PSBcInBvc3RsYXJcIlxyXG4gICAgICAgICAgICAgICAgICA/IFwicHJvZmlsX2dvc3Rlci5waHBcIlxyXG4gICAgICAgICAgICAgICAgICA6IFwicHJvZmlsX3lvcnVtLnBocFwiLFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICBwYXJhbXM6IHtcclxuICAgICAgICAgICAgICAgICAgICBrYWRpOiB0aGlzLnByb3BzLm5pY2ssXHJcbiAgICAgICAgICAgICAgICAgICAgczogdGhpcy5zdGF0ZS5wYWdlXHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgLnRoZW4ocmVzID0+IHJlcy5kYXRhKVxyXG4gICAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZGF0YTogWy4uLnRoaXMuc3RhdGUuZGF0YSwgLi4ucmVzLmRhdGFdIH0pO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHRoaXMuc2Nyb2xsSGFuZGxlKTtcclxuICAgIH1cclxuICB9O1xyXG4gIFJlbmRlckNvbXBvbmVudCA9ICgpID0+IHtcclxuICAgIGNvbnN0IHsgcGFnZSB9ID0gdGhpcy5wcm9wcztcclxuICAgIGNvbnN0IHsgZGF0YSB9ID0gdGhpcy5zdGF0ZTtcclxuICAgIGlmIChkYXRhLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDw+e2RhdGEubGVuZ3RoID09PSAwICYmIDxFcnJvciBtc2c9XCJIZXJoYW5naSBiaXIgbm9zIHlvay4uLlwiIC8+fTwvPlxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgaWYgKHBhZ2UgPT09IFwicG9zdGxhclwiKSB7XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPD5cclxuICAgICAgICAgIHtkYXRhLm1hcCgocCwgaSkgPT4gKFxyXG4gICAgICAgICAgICA8UG9zdCBwb3N0PXtwfSBrZXk9e2l9IC8+XHJcbiAgICAgICAgICApKX1cclxuICAgICAgICA8Lz5cclxuICAgICAgKTtcclxuICAgIH0gZWxzZSBpZiAocGFnZSA9PT0gXCJ5b3J1bWxhclwiKSB7XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPGRpdj5cclxuICAgICAgICAgIHtkYXRhLm1hcCgoYywgaSkgPT4gKFxyXG4gICAgICAgICAgICA8Q29tbWVudCBjb21tZW50PXtjfSBrZXk9e2l9IGxpbms9e2Muc2VvfSAvPlxyXG4gICAgICAgICAgKSl9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICk7XHJcbiAgICB9IGVsc2UgaWYgKHBhZ2UgPT09IFwiYmlsZGlyaW1sZXJcIikge1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDx1bD5cclxuICAgICAgICAgIHtkYXRhLm1hcCgobiwgaSkgPT4gKFxyXG4gICAgICAgICAgICA8bGkga2V5PXtpfT57bi50ZXh0fTwvbGk+XHJcbiAgICAgICAgICApKX1cclxuICAgICAgICA8L3VsPlxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIGNvbnN0IHsgbmljaywgcGFnZSwgYXV0aGVudGljYXRlZFVzZXJJZCB9ID0gdGhpcy5wcm9wcztcclxuICAgIGNvbnN0IHVzZXJJZCA9IHRoaXMucHJvcHMudXNlci51c2VyX2lkO1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPD5cclxuICAgICAgICA8SGVhZD5cclxuICAgICAgICAgIDx0aXRsZT5wcm9maWwve25pY2t9PC90aXRsZT5cclxuICAgICAgICAgIDxtZXRhIG5hbWU9XCJkZXNjcmlwdGlvblwiIGNvbnRlbnQ9e2Ake25pY2t9J2luIFByb2ZpbGlgfSAvPlxyXG4gICAgICAgIDwvSGVhZD5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRlbnRcIj5cclxuICAgICAgICAgIDx0aGlzLlJlbmRlckNvbXBvbmVudCAvPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxhc2lkZSBjbGFzc05hbWU9XCJyaWdodC1zaWRlYmFyIHVzZXItc2lkZWJhclwiPlxyXG4gICAgICAgICAgPFVzZXJDb250YWluZXJcclxuICAgICAgICAgICAgbmljaz17bmlja31cclxuICAgICAgICAgICAgcGljdHVyZT17dGhpcy5wcm9wcy51c2VyLnBpY3R1cmV9XHJcbiAgICAgICAgICAgIHVzZXJJZD17dXNlcklkfVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJvZmlsZS1saW5rc1wiPlxyXG4gICAgICAgICAgICA8TGluayBocmVmPXtgL3UvQCR7bmlja30vYH0+XHJcbiAgICAgICAgICAgICAgPGFcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGRlZmF1bHQtYnRuICR7cGFnZSA9PT0gXCJwb3N0bGFyXCIgPyBcImFjdGl2ZVwiIDogXCJcIn1gfVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIFBvc3RsYXJcclxuICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgIDwvTGluaz5cclxuICAgICAgICAgICAgPExpbmsgaHJlZj17YC91L0Ake25pY2t9L3lvcnVtbGFyYH0+XHJcbiAgICAgICAgICAgICAgPGFcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGRlZmF1bHQtYnRuICR7cGFnZSA9PT0gXCJ5b3J1bWxhclwiID8gXCJhY3RpdmVcIiA6IFwiXCJ9YH1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICBZb3J1bWxhclxyXG4gICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgPC9MaW5rPlxyXG4gICAgICAgICAgICA8YnIgLz5cclxuICAgICAgICAgICAge2F1dGhlbnRpY2F0ZWRVc2VySWQgPT09IHVzZXJJZCAmJiAoXHJcbiAgICAgICAgICAgICAgPD5cclxuICAgICAgICAgICAgICAgIDxMaW5rIGhyZWY9e2AvYmlsZGlyaW1sZXJgfT5cclxuICAgICAgICAgICAgICAgICAgPGFcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BkZWZhdWx0LWJ0biAke1xyXG4gICAgICAgICAgICAgICAgICAgICAgcGFnZSA9PT0gXCJiaWxkaXJpbWxlclwiID8gXCJhY3RpdmVcIiA6IFwiXCJcclxuICAgICAgICAgICAgICAgICAgICB9YH1cclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIEJpbGRpcmltbGVyXHJcbiAgICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICAgIDwvTGluaz5cclxuICAgICAgICAgICAgICAgIDxMaW5rIGhyZWY9e2AvbWVzYWpsYXJgfT5cclxuICAgICAgICAgICAgICAgICAgPGFcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BkZWZhdWx0LWJ0biAke1xyXG4gICAgICAgICAgICAgICAgICAgICAgcGFnZSA9PT0gXCJtZXNhamxhclwiID8gXCJhY3RpdmVcIiA6IFwiXCJcclxuICAgICAgICAgICAgICAgICAgICB9YH1cclxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgIHRvYXN0LmluZm8oXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiTWVzYWpsYcWfbWEgYWt0aWYgZGXEn2lsZGlyLiBFbiBrxLFzYSBzw7xyZWRlIGFrdGlmbGXFn3RpcmlsZWNla3Rpci4uLlwiXHJcbiAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICBNZXNhamxhclxyXG4gICAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgICA8L0xpbms+XHJcbiAgICAgICAgICAgICAgICA8TGluayBocmVmPXtgL3Byb2ZpbC1kdXplbmxlYH0+XHJcbiAgICAgICAgICAgICAgICAgIDxhIGNsYXNzTmFtZT1cImRlZmF1bHQtYnRuXCI+RMO8emVubGU8L2E+XHJcbiAgICAgICAgICAgICAgICA8L0xpbms+XHJcbiAgICAgICAgICAgICAgPC8+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2FzaWRlPlxyXG4gICAgICAgIDxzdHlsZSBqc3g+e2BcclxuICAgICAgICAgIDpnbG9iYWwoLmNvbW1lbnQ6Zmlyc3QtY2hpbGQpIHtcclxuICAgICAgICAgICAgbWFyZ2luLXRvcDogMDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC5wcm9maWxlLWxpbmtzIHtcclxuICAgICAgICAgICAgbWFyZ2luLXRvcDogMzBweDtcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tbWFpbi1kYXJrLWdyYXktY29sb3IpO1xyXG4gICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1tYWluLWRhcmstZ3JheS1jb2xvcik7XHJcbiAgICAgICAgICAgIGhlaWdodDogNjBweDtcclxuICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDU5cHg7XHJcbiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAucHJvZmlsZS1saW5rcyBhIHtcclxuICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDEwcHg7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLXNlY29uZC1yZWQtY29sb3IpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLnByb2ZpbGUtbGlua3MgYS5hY3RpdmUsXHJcbiAgICAgICAgICAucHJvZmlsZS1saW5rcyBhOmhvdmVyIHtcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tbWFpbi1yZWQtY29sb3IpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLnByb2ZpbGUtbGlua3MgYTpmaXJzdC1jaGlsZCB7XHJcbiAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiAwO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgYXNpZGUudXNlci1zaWRlYmFyIHtcclxuICAgICAgICAgICAgbWluLWhlaWdodDogMDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIEBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDYyMHB4KSB7XHJcbiAgICAgICAgICAgIDpnbG9iYWwoLnBhZ2UtY29udGVudCkge1xyXG4gICAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLmNvbnRlbnQge1xyXG4gICAgICAgICAgICAgIG9yZGVyOiAyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGFzaWRlLnVzZXItc2lkZWJhciB7XHJcbiAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgICAgICBvcmRlcjogMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIGB9PC9zdHlsZT5cclxuICAgICAgPC8+XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuUHJvZmlsZS5nZXRJbml0aWFsUHJvcHMgPSBhc3luYyAoeyBxdWVyeSwgc3RvcmUgfSkgPT4ge1xyXG4gIGNvbnN0IG5pY2sgPSBxdWVyeS5zbHVnLnNwbGl0KFwiQFwiKVsxXTtcclxuICBjb25zdCBwYWdlID0gcXVlcnkucGFnZTtcclxuICBsZXQgZGF0YSA9IHt9O1xyXG4gIGlmIChwYWdlID09PSBcInBvc3RsYXJcIikge1xyXG4gICAgZGF0YSA9IGF3YWl0IGh0dHBcclxuICAgICAgLmdldChcInByb2ZpbF9nb3N0ZXIucGhwXCIsIHtcclxuICAgICAgICBwYXJhbXM6IHtcclxuICAgICAgICAgIGthZGk6IG5pY2tcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgIC50aGVuKHJlcyA9PiByZXMuZGF0YSlcclxuICAgICAgLnRoZW4ocmVzID0+IHtcclxuICAgICAgICByZXR1cm4geyB1c2VyOiByZXMudXllLCBkYXRhOiByZXMuZGF0YSwgdG90YWw6IHJlcy50b3BsYW1Qb3N0IH07XHJcbiAgICAgIH0pO1xyXG4gIH0gZWxzZSBpZiAocGFnZSA9PT0gXCJ5b3J1bWxhclwiKSB7XHJcbiAgICBkYXRhID0gYXdhaXQgaHR0cFxyXG4gICAgICAuZ2V0KFwicHJvZmlsX3lvcnVtLnBocFwiLCB7XHJcbiAgICAgICAgcGFyYW1zOiB7XHJcbiAgICAgICAgICBrYWRpOiBuaWNrXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgICAudGhlbihyZXMgPT4gcmVzLmRhdGEpXHJcbiAgICAgIC50aGVuKHJlcyA9PiAoe1xyXG4gICAgICAgIHVzZXI6IHJlcy51eWUsXHJcbiAgICAgICAgZGF0YTogcmVzLmRhdGEsXHJcbiAgICAgICAgdG90YWw6IHJlcy50b3BsYW1Zb3J1bVxyXG4gICAgICB9KSk7XHJcbiAgfSBlbHNlIGlmIChwYWdlID09PSBcImJpbGRpcmltbGVyXCIpIHtcclxuICAgIC8vaWYgKHN0b3JlLmdldFN0YXRlKCkuYXV0aC51c2VyLmthZGkgPT09IG5pY2spIHtcclxuICAgIGRhdGEgPSB7XHJcbiAgICAgIHRvdGFsOiAwLFxyXG4gICAgICB1c2VyOiB7IHVzZXJfaWQ6IFwiMlwiLCBuaWNrOiBcImVmZGFsaVwiLCBwaWN0dXJlOiBcImRlZmF1bHRfdXNlci5wbmdcIiB9LFxyXG4gICAgICBkYXRhOiBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdGV4dDogXCJCaWxkaXJpbSAxXCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHRleHQ6IFwiQmlsZGlyaW0gMlwiXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICB0ZXh0OiBcIkJpbGRpcmltIDNcIlxyXG4gICAgICAgIH1cclxuICAgICAgXVxyXG4gICAgfTtcclxuICAgIC8vfVxyXG4gIH1cclxuICByZXR1cm4ge1xyXG4gICAgbmljayxcclxuICAgIGRhdGE6IGRhdGEuZGF0YSxcclxuICAgIHVzZXI6IGRhdGEudXNlcixcclxuICAgIHRvdGFsOiBkYXRhLnRvdGFsLFxyXG4gICAgcGFnZVxyXG4gIH07XHJcbn07XHJcbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IHN0YXRlID0+ICh7XHJcbiAgYXV0aGVudGljYXRlZFVzZXJJZDogc3RhdGUuYXV0aC51c2VyLmlkXHJcbn0pO1xyXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcykod2l0aEF1dGgoUHJvZmlsZSkpO1xyXG4iXX0= */\\n/*@ sourceURL=E:\\\\projects\\\\nosbir-frontend\\\\pages\\\\profile.js */\"));\n    }\n  }]);\n\n  return Profile;\n}(React.Component);\n\nProfile.getInitialProps =\n/*#__PURE__*/\nfunction () {\n  var _ref2 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(_ref) {\n    var query, store, nick, page, data;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            query = _ref.query, store = _ref.store;\n            nick = query.slug.split(\"@\")[1];\n            page = query.page;\n            data = {};\n\n            if (!(page === \"postlar\")) {\n              _context.next = 10;\n              break;\n            }\n\n            _context.next = 7;\n            return http.get(\"profil_goster.php\", {\n              params: {\n                kadi: nick\n              }\n            }).then(function (res) {\n              return res.data;\n            }).then(function (res) {\n              return {\n                user: res.uye,\n                data: res.data,\n                total: res.toplamPost\n              };\n            });\n\n          case 7:\n            data = _context.sent;\n            _context.next = 17;\n            break;\n\n          case 10:\n            if (!(page === \"yorumlar\")) {\n              _context.next = 16;\n              break;\n            }\n\n            _context.next = 13;\n            return http.get(\"profil_yorum.php\", {\n              params: {\n                kadi: nick\n              }\n            }).then(function (res) {\n              return res.data;\n            }).then(function (res) {\n              return {\n                user: res.uye,\n                data: res.data,\n                total: res.toplamYorum\n              };\n            });\n\n          case 13:\n            data = _context.sent;\n            _context.next = 17;\n            break;\n\n          case 16:\n            if (page === \"bildirimler\") {\n              //if (store.getState().auth.user.kadi === nick) {\n              data = {\n                total: 0,\n                user: {\n                  user_id: \"2\",\n                  nick: \"efdali\",\n                  picture: \"default_user.png\"\n                },\n                data: [{\n                  text: \"Bildirim 1\"\n                }, {\n                  text: \"Bildirim 2\"\n                }, {\n                  text: \"Bildirim 3\"\n                }]\n              }; //}\n            }\n\n          case 17:\n            return _context.abrupt(\"return\", {\n              nick: nick,\n              data: data.data,\n              user: data.user,\n              total: data.total,\n              page: page\n            });\n\n          case 18:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    authenticatedUserId: state.auth.user.id\n  };\n};\n\nexport default connect(mapStateToProps)(withAuth(Profile));","map":{"version":3,"sources":["E:/projects/nosbir-frontend/pages/profile.js"],"names":["React","Head","Link","connect","withAuth","Post","Comment","UserContainer","Error","http","toast","Profile","props","e","state","page","total","window","innerHeight","document","documentElement","scrollTop","offsetHeight","setState","get","params","kadi","nick","s","then","res","data","removeEventListener","scrollHandle","length","map","p","i","c","seo","n","text","addEventListener","authenticatedUserId","userId","user","user_id","picture","preventDefault","info","Component","getInitialProps","query","store","slug","split","uye","toplamPost","toplamYorum","mapStateToProps","auth","id"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport Head from \"next/head\";\r\nimport Link from \"next/link\";\r\nimport { connect } from \"react-redux\";\r\nimport { withAuth } from \"../utils/auth\";\r\nimport Post from \"../components/post\";\r\nimport Comment from \"../components/comment\";\r\nimport UserContainer from \"../components/userContainer\";\r\nimport Error from \"../components/error\";\r\nimport http from \"../utils/http\";\r\nimport { toast } from \"react-toastify\";\r\nclass Profile extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      data: props.data,\r\n      page: 0\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"scroll\", this.scrollHandle);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"scroll\", this.scrollHandle);\r\n  }\r\n\r\n  scrollHandle = e => {\r\n    if (this.state.page < this.props.total - 1) {\r\n      if (\r\n        window.innerHeight + document.documentElement.scrollTop + 200 >=\r\n        document.documentElement.offsetHeight\r\n      ) {\r\n        this.setState(\r\n          state => ({\r\n            page: state.page + 1\r\n          }),\r\n          () => {\r\n            http\r\n              .get(\r\n                this.props.page === \"postlar\"\r\n                  ? \"profil_goster.php\"\r\n                  : \"profil_yorum.php\",\r\n                {\r\n                  params: {\r\n                    kadi: this.props.nick,\r\n                    s: this.state.page\r\n                  }\r\n                }\r\n              )\r\n              .then(res => res.data)\r\n              .then(res => {\r\n                this.setState({ data: [...this.state.data, ...res.data] });\r\n              });\r\n          }\r\n        );\r\n      }\r\n    } else {\r\n      window.removeEventListener(\"scroll\", this.scrollHandle);\r\n    }\r\n  };\r\n  RenderComponent = () => {\r\n    const { page } = this.props;\r\n    const { data } = this.state;\r\n    if (data.length === 0) {\r\n      return (\r\n        <>{data.length === 0 && <Error msg=\"Herhangi bir nos yok...\" />}</>\r\n      );\r\n    }\r\n    if (page === \"postlar\") {\r\n      return (\r\n        <>\r\n          {data.map((p, i) => (\r\n            <Post post={p} key={i} />\r\n          ))}\r\n        </>\r\n      );\r\n    } else if (page === \"yorumlar\") {\r\n      return (\r\n        <div>\r\n          {data.map((c, i) => (\r\n            <Comment comment={c} key={i} link={c.seo} />\r\n          ))}\r\n        </div>\r\n      );\r\n    } else if (page === \"bildirimler\") {\r\n      return (\r\n        <ul>\r\n          {data.map((n, i) => (\r\n            <li key={i}>{n.text}</li>\r\n          ))}\r\n        </ul>\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { nick, page, authenticatedUserId } = this.props;\r\n    const userId = this.props.user.user_id;\r\n    return (\r\n      <>\r\n        <Head>\r\n          <title>profil/{nick}</title>\r\n          <meta name=\"description\" content={`${nick}'in Profili`} />\r\n        </Head>\r\n        <div className=\"content\">\r\n          <this.RenderComponent />\r\n        </div>\r\n        <aside className=\"right-sidebar user-sidebar\">\r\n          <UserContainer\r\n            nick={nick}\r\n            picture={this.props.user.picture}\r\n            userId={userId}\r\n          />\r\n          <div className=\"profile-links\">\r\n            <Link href={`/u/@${nick}/`}>\r\n              <a\r\n                className={`default-btn ${page === \"postlar\" ? \"active\" : \"\"}`}\r\n              >\r\n                Postlar\r\n              </a>\r\n            </Link>\r\n            <Link href={`/u/@${nick}/yorumlar`}>\r\n              <a\r\n                className={`default-btn ${page === \"yorumlar\" ? \"active\" : \"\"}`}\r\n              >\r\n                Yorumlar\r\n              </a>\r\n            </Link>\r\n            <br />\r\n            {authenticatedUserId === userId && (\r\n              <>\r\n                <Link href={`/bildirimler`}>\r\n                  <a\r\n                    className={`default-btn ${\r\n                      page === \"bildirimler\" ? \"active\" : \"\"\r\n                    }`}\r\n                  >\r\n                    Bildirimler\r\n                  </a>\r\n                </Link>\r\n                <Link href={`/mesajlar`}>\r\n                  <a\r\n                    className={`default-btn ${\r\n                      page === \"mesajlar\" ? \"active\" : \"\"\r\n                    }`}\r\n                    onClick={e => {\r\n                      e.preventDefault();\r\n                      toast.info(\r\n                        \"Mesajlaşma aktif değildir. En kısa sürede aktifleştirilecektir...\"\r\n                      );\r\n                    }}\r\n                  >\r\n                    Mesajlar\r\n                  </a>\r\n                </Link>\r\n                <Link href={`/profil-duzenle`}>\r\n                  <a className=\"default-btn\">Düzenle</a>\r\n                </Link>\r\n              </>\r\n            )}\r\n          </div>\r\n        </aside>\r\n        <style jsx>{`\r\n          :global(.comment:first-child) {\r\n            margin-top: 0;\r\n          }\r\n          .profile-links {\r\n            margin-top: 30px;\r\n            background: var(--main-dark-gray-color);\r\n            border: 1px solid var(--main-dark-gray-color);\r\n            height: 60px;\r\n            line-height: 59px;\r\n            text-align: center;\r\n            width: 100%;\r\n          }\r\n          .profile-links a {\r\n            margin-left: 10px;\r\n            background: var(--second-red-color);\r\n          }\r\n          .profile-links a.active,\r\n          .profile-links a:hover {\r\n            background: var(--main-red-color);\r\n          }\r\n          .profile-links a:first-child {\r\n            margin-left: 0;\r\n          }\r\n          aside.user-sidebar {\r\n            min-height: 0;\r\n          }\r\n          @media screen and (max-width: 620px) {\r\n            :global(.page-content) {\r\n              flex-direction: column;\r\n            }\r\n            .content {\r\n              order: 2;\r\n            }\r\n            aside.user-sidebar {\r\n              display: flex;\r\n              order: 1;\r\n            }\r\n          }\r\n        `}</style>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nProfile.getInitialProps = async ({ query, store }) => {\r\n  const nick = query.slug.split(\"@\")[1];\r\n  const page = query.page;\r\n  let data = {};\r\n  if (page === \"postlar\") {\r\n    data = await http\r\n      .get(\"profil_goster.php\", {\r\n        params: {\r\n          kadi: nick\r\n        }\r\n      })\r\n      .then(res => res.data)\r\n      .then(res => {\r\n        return { user: res.uye, data: res.data, total: res.toplamPost };\r\n      });\r\n  } else if (page === \"yorumlar\") {\r\n    data = await http\r\n      .get(\"profil_yorum.php\", {\r\n        params: {\r\n          kadi: nick\r\n        }\r\n      })\r\n      .then(res => res.data)\r\n      .then(res => ({\r\n        user: res.uye,\r\n        data: res.data,\r\n        total: res.toplamYorum\r\n      }));\r\n  } else if (page === \"bildirimler\") {\r\n    //if (store.getState().auth.user.kadi === nick) {\r\n    data = {\r\n      total: 0,\r\n      user: { user_id: \"2\", nick: \"efdali\", picture: \"default_user.png\" },\r\n      data: [\r\n        {\r\n          text: \"Bildirim 1\"\r\n        },\r\n        {\r\n          text: \"Bildirim 2\"\r\n        },\r\n        {\r\n          text: \"Bildirim 3\"\r\n        }\r\n      ]\r\n    };\r\n    //}\r\n  }\r\n  return {\r\n    nick,\r\n    data: data.data,\r\n    user: data.user,\r\n    total: data.total,\r\n    page\r\n  };\r\n};\r\nconst mapStateToProps = state => ({\r\n  authenticatedUserId: state.auth.user.id\r\n});\r\nexport default connect(mapStateToProps)(withAuth(Profile));\r\n"]},"metadata":{},"sourceType":"module"}